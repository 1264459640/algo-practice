# Fisher-Yates 洗牌算法项目

这是一个基于 Godot 4.4 和 C# 的 Fisher-Yates 洗牌算法演示项目。

## 项目结构

```
fisher-yates/
├── Fisher-Yates算法原理.md     # 算法原理详细说明
├── FisherYatesShuffle.cs       # 核心算法实现
├── TestScene.cs                # Godot 测试场景脚本
├── TestScene.tscn              # Godot 测试场景文件
├── ConsoleDemo.cs              # 控制台演示程序
├── Fisher-Yates.csproj         # 项目文件
├── Fisher-Yates.sln            # 解决方案文件
├── project.godot               # Godot 项目配置
├── 测试场景使用说明.md         # 测试场景使用指南
└── README.md                   # 本文件
```

## 功能特性

### 核心算法实现
- ✅ 标准 Fisher-Yates 洗牌算法
- ✅ 种子洗牌（可重现结果）
- ✅ 部分洗牌（只洗牌前 k 个元素）
- ✅ 统计信息收集（交换次数、位置变化等）
- ✅ 多种数据类型支持（泛型实现）

### 演示功能
- 🎮 Godot 图形界面演示
- 💻 控制台命令行演示
- 🃏 扑克牌洗牌演示
- 📊 统计特性测试
- 🔢 随机性验证

## 运行方式

### 方式1：Godot 测试场景（推荐）

1. **安装 Godot 4.4**
   - 从 [Godot 官网](https://godotengine.org/) 下载 Godot 4.4
   - 确保选择支持 C# 的版本

2. **打开项目**
   ```bash
   # 在 Godot 中导入项目
   # 选择 project.godot 文件
   ```

3. **运行测试场景**
   - 在 Godot 编辑器中点击"播放"按钮
   - 或按 F5 键运行 TestScene.tscn
   - 使用可视化界面测试洗牌算法

### 方式2：控制台演示

1. **编译项目**
   ```bash
   dotnet build Fisher-Yates.sln
   ```

2. **运行控制台演示**
   ```bash
   dotnet run --project Fisher-Yates.csproj
   ```

## 演示内容

### 1. 基本数组洗牌
- 演示标准整数数组的洗牌过程
- 显示交换次数和位置变化统计
- 多次洗牌结果对比

### 2. 扑克牌洗牌
- 标准 52 张扑克牌洗牌
- 可视化显示洗牌结果
- 模拟真实发牌场景

### 3. 种子洗牌
- 使用固定种子生成可重现的洗牌结果
- 演示相同种子产生相同结果
- 不同种子产生不同结果的对比

### 4. 部分洗牌
- 只洗牌数组的前 k 个元素
- 适用于需要部分随机化的场景
- 可视化显示洗牌范围

### 5. 统计特性测试
- 大量测试验证算法的统计特性
- 与理论期望值对比
- 验证算法的无偏性和随机性

## 算法特点

### 时间复杂度
- **O(n)** - 线性时间复杂度
- 每个元素只处理一次

### 空间复杂度
- **O(1)** - 原地算法，常数额外空间
- 不需要额外的存储空间

### 正确性保证
- **无偏洗牌** - 每种排列出现的概率相等 (1/n!)
- **数学证明** - 基于数学归纳法的严格证明
- **统计验证** - 通过大量测试验证随机性

## 应用场景

### 游戏开发
- 🎲 卡牌游戏洗牌
- 🎮 随机关卡生成
- 🎯 道具随机掉落
- 🏆 随机奖励分配

### 数据科学
- 📊 数据集随机采样
- 🔬 交叉验证数据分割
- 🧪 A/B 测试用户分组
- 📈 蒙特卡罗模拟

### 算法测试
- ⚡ 性能测试数据生成
- 🔍 压力测试输入随机化
- 🎯 边界条件测试

## 技术实现细节

### 核心算法
```csharp
for (int i = array.Length - 1; i > 0; i--)
{
    int j = random.Next(0, i + 1);
    (array[i], array[j]) = (array[j], array[i]);
}
```

### 关键特性
- **泛型支持** - 适用于任何可交换的数据类型
- **线程安全** - 每个方法调用使用独立的随机数生成器
- **统计友好** - 提供详细的统计信息收集
- **可扩展性** - 易于添加新的洗牌变种

## 学习价值

### 算法设计
- 理解如何设计无偏随机算法
- 学习算法正确性的数学证明方法
- 掌握时间和空间复杂度分析

### 概率论应用
- 理解排列组合的概率计算
- 学习随机性的统计验证方法
- 掌握期望值的计算和验证

### 软件工程
- 泛型编程的实际应用
- 单元测试和统计验证
- 用户界面设计和交互

## 扩展建议

### 算法扩展
- [ ] 加权洗牌算法
- [ ] 在线洗牌算法
- [ ] 并行洗牌实现
- [ ] 密码学安全的洗牌

### 功能扩展
- [ ] 更多可视化效果
- [ ] 洗牌过程动画
- [ ] 性能基准测试
- [ ] 更多统计指标

### 应用扩展
- [ ] 实际游戏集成
- [ ] 数据科学工具包
- [ ] 教学演示工具
- [ ] 在线演示网站

## 参考资料

- [Fisher-Yates算法原理.md](Fisher-Yates算法原理.md) - 详细的算法原理说明
- [Wikipedia: Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)
- [Knuth, Donald E. "The Art of Computer Programming"](https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming)
- [Godot Engine Documentation](https://docs.godotengine.org/)

## 许可证

本项目仅用于学习和演示目的。